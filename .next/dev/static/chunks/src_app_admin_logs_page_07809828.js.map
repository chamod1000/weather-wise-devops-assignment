{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/weather-dashboard/src/app/admin/logs/page.js"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Clock, Shield, User } from 'lucide-react';\r\n\r\nexport default function ActivityLogs() {\r\n  const [logs, setLogs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchLogs = async () => {\r\n      try {\r\n        const res = await axios.get('/api/admin/logs');\r\n        setLogs(res.data);\r\n      } catch (e) {\r\n        console.error(\"Failed to load logs\");\r\n      }\r\n      setLoading(false);\r\n    };\r\n    fetchLogs();\r\n  }, []);\r\n\r\n  if (loading) return <div className=\"p-8\">Loading logs...</div>;\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n       <h2 className=\"text-3xl font-bold text-slate-800 mb-6\">Activity Logs</h2>\r\n       \r\n       <div className=\"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden\">\r\n           <div className=\"overflow-x-auto\">\r\n               <table className=\"w-full text-left text-sm text-slate-600\">\r\n                   <thead className=\"bg-slate-50 text-xs uppercase font-bold text-slate-400\">\r\n                       <tr>\r\n                           <th className=\"p-4\">Action</th>\r\n                           <th className=\"p-4\">User</th>\r\n                           <th className=\"p-4\">Details</th>\r\n                           <th className=\"p-4\">Date</th>\r\n                       </tr>\r\n                   </thead>\r\n                   <tbody className=\"divide-y divide-slate-100\">\r\n                       {logs.map((log) => (\r\n                           <tr key={log._id} className=\"hover:bg-slate-50/80 transition\">\r\n                               <td className=\"p-4\">\r\n                                   <span className={`px-2 py-1 rounded text-xs font-bold ${\r\n                                       log.action === 'ADMIN_ACTION' ? 'bg-purple-100 text-purple-600' : \r\n                                       log.action === 'LOGIN' ? 'bg-green-100 text-green-600' : 'bg-slate-100 text-slate-600'\r\n                                   }`}>\r\n                                       {log.action}\r\n                                   </span>\r\n                               </td>\r\n                               <td className=\"p-4 flex items-center gap-2\">\r\n                                  {log.user ? (\r\n                                      <>\r\n                                          <User size={14} className=\"text-slate-400\"/>\r\n                                          <span className=\"font-medium text-slate-800\">{log.user.name}</span>\r\n                                      </>\r\n                                  ) : <span className=\"text-slate-400 italic\">System / Unknown</span>}\r\n                               </td>\r\n                               <td className=\"p-4\">{log.details}</td>\r\n                               <td className=\"p-4 text-slate-400 font-mono text-xs\">\r\n                                   {new Date(log.createdAt).toLocaleString()}\r\n                               </td>\r\n                           </tr>\r\n                       ))}\r\n                   </tbody>\r\n               </table>\r\n           </div>\r\n       </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;;;AAHA;;;;AAKe,SAAS;;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC,EAAE;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;kCAAC;YACR,MAAM;oDAAY;oBAChB,IAAI;wBACF,MAAM,MAAM,MAAM,mJAAK,CAAC,GAAG,CAAC;wBAC5B,QAAQ,IAAI,IAAI;oBAClB,EAAE,OAAO,GAAG;wBACV,QAAQ,KAAK,CAAC;oBAChB;oBACA,WAAW;gBACb;;YACA;QACF;iCAAG,EAAE;IAEL,IAAI,SAAS,qBAAO,6LAAC;QAAI,WAAU;kBAAM;;;;;;IAEzC,qBACE,6LAAC;QAAI,WAAU;;0BACZ,6LAAC;gBAAG,WAAU;0BAAyC;;;;;;0BAEvD,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAI,WAAU;8BACX,cAAA,6LAAC;wBAAM,WAAU;;0CACb,6LAAC;gCAAM,WAAU;0CACb,cAAA,6LAAC;;sDACG,6LAAC;4CAAG,WAAU;sDAAM;;;;;;sDACpB,6LAAC;4CAAG,WAAU;sDAAM;;;;;;sDACpB,6LAAC;4CAAG,WAAU;sDAAM;;;;;;sDACpB,6LAAC;4CAAG,WAAU;sDAAM;;;;;;;;;;;;;;;;;0CAG5B,6LAAC;gCAAM,WAAU;0CACZ,KAAK,GAAG,CAAC,CAAC,oBACP,6LAAC;wCAAiB,WAAU;;0DACxB,6LAAC;gDAAG,WAAU;0DACV,cAAA,6LAAC;oDAAK,WAAW,CAAC,oCAAoC,EAClD,IAAI,MAAM,KAAK,iBAAiB,kCAChC,IAAI,MAAM,KAAK,UAAU,gCAAgC,+BAC3D;8DACG,IAAI,MAAM;;;;;;;;;;;0DAGnB,6LAAC;gDAAG,WAAU;0DACV,IAAI,IAAI,iBACL;;sEACI,6LAAC,6MAAI;4DAAC,MAAM;4DAAI,WAAU;;;;;;sEAC1B,6LAAC;4DAAK,WAAU;sEAA8B,IAAI,IAAI,CAAC,IAAI;;;;;;;iFAE/D,6LAAC;oDAAK,WAAU;8DAAwB;;;;;;;;;;;0DAE/C,6LAAC;gDAAG,WAAU;0DAAO,IAAI,OAAO;;;;;;0DAChC,6LAAC;gDAAG,WAAU;0DACT,IAAI,KAAK,IAAI,SAAS,EAAE,cAAc;;;;;;;uCAnBtC,IAAI,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6B3C;GAjEwB;KAAA"}}]
}