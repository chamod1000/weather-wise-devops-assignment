{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/weather-dashboard/src/app/admin/settings/page.js"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Save, AlertTriangle, UserPlus, Megaphone } from 'lucide-react';\r\n\r\nexport default function AdminSettings() {\r\n  const [settings, setSettings] = useState({\r\n    registration_enabled: true,\r\n    maintenance_mode: false,\r\n    announcement: ''\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchSettings = async () => {\r\n        try {\r\n            const res = await axios.get('/api/admin/settings');\r\n            setSettings(res.data);\r\n            setLoading(false);\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    };\r\n    fetchSettings();\r\n  }, []);\r\n\r\n  const handleSave = async () => {\r\n      setSaving(true);\r\n      try {\r\n          await axios.post('/api/admin/settings', settings);\r\n          alert('Settings saved successfully!');\r\n      } catch (e) {\r\n          alert('Failed to save settings');\r\n      }\r\n      setSaving(false);\r\n  };\r\n\r\n  if (loading) return <div className=\"p-8\">Loading settings...</div>;\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n        <h2 className=\"text-3xl font-bold text-slate-800 mb-6\">System Settings</h2>\r\n\r\n        <div className=\"grid gap-6\">\r\n            \r\n            <div className=\"bg-white p-6 rounded-2xl shadow-sm border border-slate-100\">\r\n                <div className=\"flex items-start gap-4\">\r\n                    <div className=\"bg-blue-100 p-3 rounded-full text-blue-600\">\r\n                        <UserPlus size={24}/>\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                        <h3 className=\"text-lg font-bold text-slate-800\">User Functionality</h3>\r\n                        <p className=\"text-slate-500 text-sm mb-4\">Control how users interact with the system.</p>\r\n                        \r\n                        <div className=\"flex items-center gap-3\">\r\n                            <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                                <input \r\n                                  type=\"checkbox\" \r\n                                  className=\"sr-only peer\"\r\n                                  checked={settings.registration_enabled}\r\n                                  onChange={(e) => setSettings({...settings, registration_enabled: e.target.checked})}\r\n                                />\r\n                                <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n                                <span className=\"ml-3 text-sm font-medium text-slate-700\">Allow New Registrations</span>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white p-6 rounded-2xl shadow-sm border border-slate-100\">\r\n                <div className=\"flex items-start gap-4\">\r\n                    <div className=\"bg-yellow-100 p-3 rounded-full text-yellow-600\">\r\n                        <AlertTriangle size={24}/>\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                        <h3 className=\"text-lg font-bold text-slate-800\">Maintenance</h3>\r\n                        <p className=\"text-slate-500 text-sm mb-4\">Put the site into maintenance mode. Only admins will be able to access.</p>\r\n                        \r\n                        <div className=\"flex items-center gap-3\">\r\n                             <label className=\"relative inline-flex items-center cursor-pointer\">\r\n                                <input \r\n                                  type=\"checkbox\" \r\n                                  className=\"sr-only peer\"\r\n                                  checked={settings.maintenance_mode}\r\n                                  onChange={(e) => setSettings({...settings, maintenance_mode: e.target.checked})}\r\n                                />\r\n                                <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-500\"></div>\r\n                                <span className=\"ml-3 text-sm font-medium text-slate-700\">Enable Maintenance Mode</span>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white p-6 rounded-2xl shadow-sm border border-slate-100\">\r\n                <div className=\"flex items-start gap-4\">\r\n                    <div className=\"bg-purple-100 p-3 rounded-full text-purple-600\">\r\n                        <Megaphone size={24}/>\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                        <h3 className=\"text-lg font-bold text-slate-800\">Global Announcement</h3>\r\n                        <p className=\"text-slate-500 text-sm mb-4\">Display a banner message at the top of the homepage.</p>\r\n                        \r\n                        <textarea \r\n                            className=\"w-full border border-slate-200 rounded-xl p-3 text-sm focus:border-purple-500 outline-none\"\r\n                            rows={3}\r\n                            placeholder=\"Enter announcement message...\"\r\n                            value={settings.announcement}\r\n                            onChange={(e) => setSettings({...settings, announcement: e.target.value})}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex justify-end\">\r\n                <button \r\n                  onClick={handleSave} \r\n                  disabled={saving}\r\n                  className=\"bg-slate-900 text-white px-6 py-3 rounded-xl hover:bg-slate-800 transition flex items-center gap-2 font-bold disabled:opacity-50\"\r\n                >\r\n                    <Save size={20} /> {saving ? \"Saving...\" : \"Save Settings\"}\r\n                </button>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}